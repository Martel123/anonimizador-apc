üß† Contexto del Proyecto

Quiero crear una plataforma web en Python + Flask que genere documentos jur√≠dicos utilizando plantillas internas del estudio y un formulario web donde el usuario ingresa sus datos.
El sistema usa tambi√©n ejemplos de estilo del estudio para que la IA redacte documentos con el tono caracter√≠stico de los abogados del estudio.

El flujo no debe depender de archivos que el cliente suba.
Los √∫nicos archivos que existen son los que YO (administrador) cargo al proyecto: plantillas, estilos y modelos.

Necesito que configures el Repl LIMPIO, organizado y funcionando correctamente.

üéØ Objetivo del Sistema

Construir una aplicaci√≥n web con el siguiente flujo completo:

El usuario entra a una p√°gina web.

Selecciona un tipo de documento legal (ejemplo: pensi√≥n de alimentos, aumento de alimentos, exoneraci√≥n, etc.).

Completa un formulario web con campos como:

invitado

demandante1

dni_demandante1

argumento1

argumento2

argumento3

conclusion

Presiona ‚ÄúGenerar documento‚Äù.

El backend:

Carga la plantilla correspondiente al tipo de documento.

Carga ejemplos de estilo del estudio (carpeta de textos).

Construye un prompt jur√≠dico.

Llama a OpenAI para generar el texto final siguiendo:

estructura de la plantilla

datos del caso

estilo del estudio

Convierte la salida a .docx.

Guarda el documento en /Resultados.

Lo registra en un archivo historial.csv.

El usuario descarga el documento Word generado.

üìÇ Estructura necesaria del Repl

El agente debe crear y organizar:

/app.py
/templates/
    index.html
    historial.html
/modelos_legales/
    (yo subir√© archivos aqu√≠)
        ejemplo: aumento_alimentos.txt
        ejemplo: pension_mutuo.txt
/estilos_estudio/
    (yo subir√© las carpetas de estilos)
        ejemplo: aumento_alimentos/
        ejemplo: pension_mutuo/
/Resultados/
    (guardar .docx generados)
/historial.csv

üß± Requisitos t√©cnicos para el Agente
1. Configuraci√≥n del servidor Flask

El archivo .replit debe contener:

entrypoint = "app.py"

[deployment]
run = ["python3", "app.py"]

[ports]
localPort = 5000
externalPort = 80


En app.py el servidor debe correrse en:

app.run(host="0.0.0.0", port=5000, debug=True)

2. Formulario en index.html

El agente debe generar un formulario HTML con:

select tipo_documento (valores din√°micos seg√∫n MODELOS)

campos:

invitado

demandante1

dni_demandante1

argumento1

argumento2

argumento3

conclusion

bot√≥n Generar documento

El formulario debe enviar a /procesar_ia v√≠a POST.

3. Diccionario MODELOS

El agente debe preparar en app.py una estructura similar:

MODELOS = {
    "aumento_alimentos": {
        "nombre": "Aumento de alimentos",
        "plantilla": "aumento_alimentos.txt",
        "carpeta_estilos": "aumento_alimentos"
    },
    "pension_mutuo": {
        "nombre": "Pensi√≥n de alimentos ‚Äì mutuo acuerdo",
        "plantilla": "pension_mutuo.txt",
        "carpeta_estilos": "pension_mutuo"
    }
}


(yo luego subir√© los archivos reales)

4. Flujo del backend

El agente debe programar las funciones:

‚úî cargar_plantilla

Lee el archivo .txt de la plantilla.

‚úî cargar_estilos

Lee archivos de texto de la carpeta del modelo en /estilos_estudio.

‚úî construir_prompt

Crea un prompt como:

Eres un abogado del estudio jur√≠dico.

ESTILO:
(Ejemplos de estilo)

PLANTILLA BASE:
(Contenido de la plantilla)

DATOS DEL CASO:
(dicc con campos del formulario)

INSTRUCCIONES:
- Respeta la estructura de la plantilla.
- Adopta el estilo de los ejemplos.
- Si falta un dato, conserva {{FALTA_DATO}}.
- Redacta el documento final completo.
- No incluyas explicaciones.

‚úî generar_con_ia

Funci√≥n que usa el modelo OpenAI (yo luego pondr√© mi API key).

‚úî guardar_docx

Convierte texto a .docx.

‚úî registrar_historial

Agrega una fila al archivo historial.csv.

5. Validaci√≥n de datos

Si un campo llega vac√≠o, reemplazarlo con:

{{FALTA_DATO}}

6. Historial

El agente debe crear una p√°gina /historial que muestre:

fecha

tipo de documento

demandante

link para descargar el documento generado

üèÅ Acci√≥n solicitada al Agente

Configura este Repl completamente desde cero, con la estructura, archivos y l√≥gica descrita arriba.
La aplicaci√≥n debe correr sin errores y mostrar la p√°gina principal con el formulario.

No generes estilos ni plantillas: YO los subir√©.
Tu tarea es preparar la estructura limpia y funcional del sistema.